# =============================================================================
# SearXNG Settings — Optimized for Open WebUI on Orange Pi 5 Plus
# Docs: https://docs.searxng.org/admin/settings/settings.html
# =============================================================================
#
# INSTALL: Copy this file to ~/Downloads/searxng-docker/searxng/settings.yml
#          then restart:  cd ~/Downloads/searxng-docker && docker compose down && docker compose up -d
#

# Instead of "use_default_settings: true" which loads ALL ~70 engines,
# use keep_only to whitelist just the fast, reliable ones we need.
use_default_settings:
  engines:
    keep_only:
      - google
      - google news
      - duckduckgo
      - bing
      - brave
      - wikipedia

server:
  secret_key: "852170001a"
  limiter: false              # No rate limiting (local-only API)
  image_proxy: false          # Not needed — Open WebUI fetches text only
  request_timeout: 5          # Max wait for all engines (seconds)

search:
  formats:
    - html
    - json
  default_lang: en
  safe_search: 0              # 0=off, 1=moderate, 2=strict
  autocomplete: ""            # Disable — saves resources, not used by API

# Outgoing HTTP tuning — how SearXNG talks to search engines
outgoing:
  request_timeout: 4.0        # Per-engine timeout (must be < server timeout)
  max_request_timeout: 6.0    # Absolute ceiling for slow engines
  pool_connections: 50         # Connection pool size
  pool_maxsize: 15             # Max connections per host

redis:
  url: redis://redis:6379/0

# Engine weights — boost the most reliable sources
engines:
  - name: google
    weight: 1.5               # Best general results
    shortcut: g
  - name: google news
    weight: 1.3               # Current events — helps "what happened today" queries
    shortcut: gn
  - name: duckduckgo
    weight: 1.2               # Good fallback
    shortcut: ddg
  - name: bing
    weight: 1.0               # Backup
    shortcut: bi
  - name: brave
    weight: 1.2               # Good for recent content
    shortcut: br
  - name: wikipedia
    weight: 1.3               # Great for factual lookups
    shortcut: wp
